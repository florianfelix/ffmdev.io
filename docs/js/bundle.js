var W=Object.create;var{getPrototypeOf:Z,defineProperty:Y,getOwnPropertyNames:$}=Object;var K=Object.prototype.hasOwnProperty;var Q=(b,v,g)=>{g=b!=null?W(Z(b)):{};let S=v||!b||!b.__esModule?Y(g,"default",{value:b,enumerable:!0}):g;for(let m of $(b))if(!K.call(S,m))Y(S,m,{get:()=>b[m],enumerable:!0});return S};var X=(b,v)=>()=>(v||b((v={exports:{}}).exports,v),v.exports);var z=X((R,M)=>{(function(b,v){typeof R=="object"&&typeof M=="object"?M.exports=v():typeof define=="function"&&define.amd?define([],v):typeof R=="object"?R["h5p-standalone"]=v():b.H5PStandalone=v()})(self,()=>(()=>{var b={633:(m)=>{function C(d,N){var E=d.length,H=new Array(E),I={},P=E,J=function(h){for(var y=new Map,w=0,c=h.length;w<c;w++){var r=h[w];y.has(r[0])||y.set(r[0],new Set),y.has(r[1])||y.set(r[1],new Set),y.get(r[0]).add(r[1])}return y}(N),D=function(h){for(var y=new Map,w=0,c=h.length;w<c;w++)y.set(h[w],w);return y}(d);for(N.forEach(function(h){if(!D.has(h[0])||!D.has(h[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});P--;)I[P]||x(d[P],P,new Set);return H;function x(h,y,w){if(w.has(h)){var c;try{c=", node was:"+JSON.stringify(h)}catch(i){c=""}throw new Error("Cyclic dependency"+c)}if(!D.has(h))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(h));if(!I[y]){I[y]=!0;var r=J.get(h)||new Set;if(y=(r=Array.from(r)).length){w.add(h);do{var e=r[--y];x(e,D.get(e),w)}while(y);w.delete(h)}H[--E]=h}}}m.exports=function(d){return C(function(N){for(var E=new Set,H=0,I=N.length;H<I;H++){var P=N[H];E.add(P[0]),E.add(P[1])}return Array.from(E)}(d),d)},m.exports.array=C}},v={};function g(m){var C=v[m];if(C!==void 0)return C.exports;var d=v[m]={exports:{}};return b[m](d,d.exports,g),d.exports}g.d=(m,C)=>{for(var d in C)g.o(C,d)&&!g.o(m,d)&&Object.defineProperty(m,d,{enumerable:!0,get:C[d]})},g.o=(m,C)=>Object.prototype.hasOwnProperty.call(m,C);var S={};return(()=>{g.d(S,{default:()=>w});var m=function(c,r,e,i){return new(e||(e=Promise))(function(t,a){function o(u){try{s(i.next(u))}catch(n){a(n)}}function l(u){try{s(i.throw(u))}catch(n){a(n)}}function s(u){var n;u.done?t(u.value):(n=u.value,n instanceof e?n:new e(function(p){p(n)})).then(o,l)}s((i=i.apply(c,r||[])).next())})},C=function(c,r){var e,i,t,a,o={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(s){return function(u){return function(n){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,n[0]&&(o=0)),o;)try{if(e=1,i&&(t=2&n[0]?i.return:n[0]?i.throw||((t=i.return)&&t.call(i),0):i.next)&&!(t=t.call(i,n[1])).done)return t;switch(i=0,t&&(n=[2&n[0],t.value]),n[0]){case 0:case 1:t=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,i=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!((t=(t=o.trys).length>0&&t[t.length-1])||n[0]!==6&&n[0]!==2)){o=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){o.label=n[1];break}if(n[0]===6&&o.label<t[1]){o.label=t[1],t=n;break}if(t&&o.label<t[2]){o.label=t[2],o.ops.push(n);break}t[2]&&o.ops.pop(),o.trys.pop();continue}n=r.call(c,o)}catch(p){n=[6,p],i=0}finally{e=t=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([s,u])}}};function d(c){if((c=c.trim()).match(/^(https?:\/\/)?([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*|localhost)(:\d{1,5})?(\/[^\s]*)?$/i))return c;if(c.startsWith("//"))return window.location.protocol+c;if(c.startsWith("/"))return window.location.origin+c;var r="".concat(window.location.protocol,"//").concat(window.location.host);return window.location.pathname.indexOf("/")>-1?r+=window.location.pathname.split("/").slice(0,-1).join("/"):r+=window.location.pathname,"".concat(r,"/").concat(c)}function N(c,r){return m(this,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return r||(r={credentials:"same-origin"}),[4,fetch(c,r)];case 1:return[2,e.sent().json()]}})})}function E(c,r){return m(this,void 0,void 0,function(){var e,i,t,a;return C(this,function(o){switch(o.label){case 0:for(e=c.getElementsByTagName("script"),i=[],t=0;t<e.length;t++)e[t].dataset.h5p&&i.push(e[t]);return a=[],r.forEach(function(l){if(!i.some(function(n){return n.dataset.h5p===l})){var s=document.createElement("script");s.src=l,s.async=!1,s.defer=!1,s.dataset.h5p=l;var u=new Promise(function(n){s.onload=n});c.append(s),a.push(u)}}),[4,Promise.all(a)];case 1:return o.sent(),[2]}})})}function H(c,r){for(var e=c.getElementsByTagName("link"),i=[],t=0;t<e.length;t++)e[t].dataset.h5p&&i.push(e[t]);r.forEach(function(a){if(!i.some(function(l){return l.dataset.h5p===a})){var o=document.createElement("link");o.href=a,o.dataset.h5p=a,o.rel="stylesheet",o.type="text/css",c.append(o)}})}function I(c){return c instanceof Object&&!Array.isArray(c)}function P(c){for(var r,e,i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];if(!i.length)return c;var a=i.shift();if(I(c)&&I(a))for(var o in a)I(a[o])?(c[o]||Object.assign(c,((r={})[o]={},r)),P(c[o],a[o])):Object.assign(c,((e={})[o]=a[o],e));return P.apply(void 0,function(l,s,u){if(u||arguments.length===2)for(var n,p=0,F=s.length;p<F;p++)!n&&p in s||(n||(n=Array.prototype.slice.call(s,0,p)),n[p]=s[p]);return l.concat(n||Array.prototype.slice.call(s))}([c],i,!1))}function J(c,r){return r.filter(function(e){return c.indexOf(e)<0}).concat(c)}var D=function(c,r,e,i){return new(e||(e=Promise))(function(t,a){function o(u){try{s(i.next(u))}catch(n){a(n)}}function l(u){try{s(i.throw(u))}catch(n){a(n)}}function s(u){var n;u.done?t(u.value):(n=u.value,n instanceof e?n:new e(function(p){p(n)})).then(o,l)}s((i=i.apply(c,r||[])).next())})},x=function(c,r){var e,i,t,a,o={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(s){return function(u){return function(n){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,n[0]&&(o=0)),o;)try{if(e=1,i&&(t=2&n[0]?i.return:n[0]?i.throw||((t=i.return)&&t.call(i),0):i.next)&&!(t=t.call(i,n[1])).done)return t;switch(i=0,t&&(n=[2&n[0],t.value]),n[0]){case 0:case 1:t=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,i=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!((t=(t=o.trys).length>0&&t[t.length-1])||n[0]!==6&&n[0]!==2)){o=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){o.label=n[1];break}if(n[0]===6&&o.label<t[1]){o.label=t[1],t=n;break}if(t&&o.label<t[2]){o.label=t[2],o.ops.push(n);break}t[2]&&o.ops.pop(),o.trys.pop();continue}n=r.call(c,o)}catch(p){n=[6,p],i=0}finally{e=t=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([s,u])}}},h=g(633),y=function(){function c(r,e){var i=this;this.libraryFolderContainsVersion=!0;var t=e.id||Math.random().toString(36).substr(2,9);return this.prepareH5PEnvironment(t,e).then(function(a){window.H5P||(window.H5P={}),window.H5P.preventInit=!0;var o=e.embedType?e.embedType:"iframe";return i.renderPlayerFrame({anchorElement:r,contentId:t,embedType:o,H5PIntegration:a}).then(function(){return(e.preventH5PInit===void 0||e.preventH5PInit)&&(typeof window.H5P.init=="function"&&window.H5P.init(),window.H5P.preventInit=!1),t})})}return c.prototype.renderPlayerFrame=function(r){return D(this,void 0,void 0,function(){var e,i,t,a,o,l;return x(this,function(s){switch(s.label){case 0:if(!(r.anchorElement instanceof HTMLElement))throw new Error("createH5P must be passed an element");return r.embedType!=="iframe"?[3,2]:((i=document.createElement("div")).classList.add("h5p-iframe-wrapper"),i.style.backgroundColor="#DDD;",(e=document.createElement("iframe")).id="h5p-iframe-".concat(r.contentId),e.src="about:blank",e.classList.add("h5p-iframe"),e.setAttribute("scrolling","no"),e.setAttribute("data-content-id",r.contentId),e.setAttribute("frameBorder","0"),e.style.width="100%",e.style.height="100%",e.style.border="none",e.style.display="block",i.append(e),r.anchorElement.append(i),H(document.head||document.body||r.anchorElement,r.H5PIntegration.core.styles),[4,E(e,r.H5PIntegration.core.scripts)]);case 1:return s.sent(),[3,4];case 2:return(i=document.createElement("div")).classList.add("h5p-iframe"),(t=document.createElement("div")).classList.add("h5p-content"),t.setAttribute("data-content-id",r.contentId),i.append(t),r.anchorElement.append(i),a=document.head||document.body||r.anchorElement,o=(r.H5PIntegration.core.styles||[]).concat(r.H5PIntegration.contents["cid-".concat(r.contentId)].styles),H(a,o),l=(r.H5PIntegration.core.scripts||[]).concat(r.H5PIntegration.contents["cid-".concat(r.contentId)].scripts),[4,E(a,l)];case 3:s.sent(),s.label=4;case 4:return[2]}})})},c.prototype.prepareH5PEnvironment=function(r,e){var i,t;return D(this,void 0,void 0,function(){var a,o,l,s,u,n,p,F,U,k,A,V,f,L,T,q,O;return x(this,function(j){switch(j.label){case 0:return a=this.getH5PPaths(e),o=a.h5pJsonPath,l=a.contentJsonPath,s=a.librariesPath,[4,N("".concat(o,"/h5p.json"),e==null?void 0:e.assetsRequestFetchOptions)];case 1:return u=j.sent(),n=this,[4,this.libraryFolderNameIncludesVersion(s,u.preloadedDependencies[0],e==null?void 0:e.assetsRequestFetchOptions)];case 2:return n.libraryFolderContainsVersion=j.sent(),[4,N("".concat(l,"/content.json"),e==null?void 0:e.assetsRequestFetchOptions)];case 3:return p=j.sent(),[4,this.findMainLibrary(u,s,e==null?void 0:e.assetsRequestFetchOptions)];case 4:return F=j.sent(),[4,this.findAllDependencies(u,s,e==null?void 0:e.assetsRequestFetchOptions)];case 5:return U=j.sent(),k=this.sortDependencies(U,s),A=k.styles,V=k.scripts,f={baseUrl:window.location.origin,url:"",contents:{},saveFreq:!1,postUserStatistics:!1,ajax:{},l10n:{H5P:{fullscreen:"Fullscreen",disableFullscreen:"Disable fullscreen",download:"Download",copyrights:"Rights of use",embed:"Embed",size:"Size",showAdvanced:"Show advanced",hideAdvanced:"Hide advanced",advancedHelp:"Include this script on your website if you want dynamic sizing of the embedded content:",copyrightInformation:"Rights of use",close:"Close",title:"Title",author:"Author",year:"Year",source:"Source",license:"License",thumbnail:"Thumbnail",noCopyrights:"No copyright information available for this content.",reuse:"Reuse",reuseContent:"Reuse Content",reuseDescription:"Reuse this content.",downloadDescription:"Download this content as a H5P file.",copyrightsDescription:"View copyright information for this content.",embedDescription:"View the embed code for this content.",h5pDescription:"Visit H5P.org to check out more cool content.",contentChanged:"This content has changed since you last used it.",startingOver:"You'll be starting over.",by:"by",showMore:"Show more",showLess:"Show less",subLevel:"Sublevel",confirmDialogHeader:"Confirm action",confirmDialogBody:"Please confirm that you wish to proceed. This action is not reversible.",cancelLabel:"Cancel",confirmLabel:"Confirm",licenseU:"Undisclosed",licenseCCBY:"Attribution",licenseCCBYSA:"Attribution-ShareAlike",licenseCCBYND:"Attribution-NoDerivs",licenseCCBYNC:"Attribution-NonCommercial",licenseCCBYNCSA:"Attribution-NonCommercial-ShareAlike",licenseCCBYNCND:"Attribution-NonCommercial-NoDerivs",licenseCC40:"4.0 International",licenseCC30:"3.0 Unported",licenseCC25:"2.5 Generic",licenseCC20:"2.0 Generic",licenseCC10:"1.0 Generic",licenseGPL:"General Public License",licenseV3:"Version 3",licenseV2:"Version 2",licenseV1:"Version 1",licensePD:"Public Domain",licenseCC010:"CC0 1.0 Universal (CC0 1.0) Public Domain Dedication",licensePDM:"Public Domain Mark",licenseC:"Copyright",contentType:"Content Type",licenseExtras:"License Extras",changes:"Changelog",contentCopied:"Content is copied to the clipboard",connectionLost:"Connection lost. Results will be stored and sent when you regain connection.",connectionReestablished:"Connection reestablished.",resubmitScores:"Attempting to submit stored results.",offlineDialogHeader:"Your connection to the server was lost",offlineDialogBody:"We were unable to send information about your completion of this task. Please check your internet connection.",offlineDialogRetryMessage:"Retrying in :num....",offlineDialogRetryButtonLabel:"Retry now",offlineSuccessfulSubmit:"Successfully submitted results."}}},window&&window.H5PIntegration&&(f=P(f,window.H5PIntegration)),L=[d("./frame.bundle.js")],T=[d("./styles/h5p.css")],e.frameJs&&(L=[d(e.frameJs)]),e.frameCss&&(T=[d(e.frameCss)]),f.core?(f.core.styles=J(f.core.styles,T),f.core.scripts=J(f.core.scripts,L)):f.core={styles:T,scripts:L},f.url=r,f.urlLibraries=s,f.postUserStatistics=!!e.postUserStatistics,f.reportingIsEnabled=!!e.reportingIsEnabled,e.saveFreq&&typeof e.saveFreq=="number"&&(f.saveFreq=e.saveFreq),e.user&&(f.user=e.user),((i=e.ajax)===null||i===void 0?void 0:i.contentUserDataUrl)&&(f.ajax.contentUserData=e.ajax.contentUserDataUrl),((t=e.ajax)===null||t===void 0?void 0:t.setFinishedUrl)&&(f.ajax.setFinished=e.ajax.setFinishedUrl),e.translations&&(f.l10n=P(f.l10n,e.translations)),e.customCss&&typeof e.customCss=="string"&&(e.customCss=[e.customCss]),e.customJs&&typeof e.customJs=="string"&&(e.customJs=[e.customJs]),A=A.concat((e.customCss||[]).map(function(B){return d(B)})),V=V.concat((e.customJs||[]).map(function(B){return d(B)})),q={copyright:!!e.copyright,embed:!!e.embed,export:!!e.export,frame:!!e.frame,icon:!!e.icon,copy:!!e.copy},O="".concat(F.machineName," "),F.majorVersion&&(O+=F.majorVersion),F.minorVersion&&(O+=".".concat(F.minorVersion)),f.contents||(f.contents={}),(e==null?void 0:e.metadata)||(e.metadata={title:e.title?e.title:"",license:"U"}),f.contents["cid-".concat(r)]={library:O,title:e.title?e.title:"",url:o,contentUrl:l,jsonContent:JSON.stringify(p),styles:A,scripts:V,fullScreen:!!e.fullScreen,exportUrl:e.downloadUrl?d(e.downloadUrl):void 0,embedCode:e.embedCode?e.embedCode:"",resizeCode:e.resizeCode?e.resizeCode:"",displayOptions:q,contentUserData:e.contentUserData,metadata:e.metadata},e.xAPIObjectIRI&&(f.contents["cid-".concat(r)].url=e.xAPIObjectIRI),window.H5PIntegration=f,[2,f]}})})},c.prototype.getH5PPaths=function(r){var e=d("workspace");r.h5pJsonPath&&(e=d(r.h5pJsonPath));var i="".concat(e,"/content");r.contentJsonPath&&(i=d(r.contentJsonPath));var t=e;return r.librariesPath&&(t=d(r.librariesPath)),{h5pJsonPath:e,contentJsonPath:i,librariesPath:t}},c.prototype.libraryFolderNameIncludesVersion=function(r,e,i){return D(this,void 0,void 0,function(){var t,a;return x(this,function(o){switch(o.label){case 0:t=this.libraryToFolderName(e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,N("".concat(r,"/").concat(t,"/library.json"),i)];case 2:return o.sent(),a=!0,[3,4];case 3:return o.sent(),a=!1,[3,4];case 4:return[2,a]}})})},c.prototype.libraryToFolderName=function(r){var e=r.machineName;return this.libraryFolderContainsVersion&&(r.majorVersion!==void 0&&(e+="-".concat(r.majorVersion)),r.minorVersion!==void 0&&(e+=".".concat(r.minorVersion))),e},c.prototype.findMainLibrary=function(r,e,i){return D(this,void 0,void 0,function(){var t,a;return x(this,function(o){return t=r.preloadedDependencies.find(function(l){return l.machineName===r.mainLibrary}),a=this.libraryToFolderName(t),[2,N("".concat(e,"/").concat(a,"/library.json"),i)]})})},c.prototype.findAllDependencies=function(r,e,i){return D(this,void 0,void 0,function(){var t,a=this;return x(this,function(o){return t=r.preloadedDependencies.map(function(l){return a.libraryToFolderName(l)}),[2,this.loadDependencies(t,[],e,i)]})})},c.prototype.loadDependencies=function(r,e,i,t){return D(this,void 0,void 0,function(){var a,o,l,s,u=this;return x(this,function(n){switch(n.label){case 0:return a=e,o=[],l=r.map(function(p){return u.findLibraryDependencies(p,i,t)}),[4,Promise.all(l)];case 1:return(s=n.sent()).forEach(function(p){a.push(p),p.dependencies.forEach(function(F){var U=a.find(function(A){return A.libraryFolderName===F}),k=s.find(function(A){return A.libraryFolderName===F});U||k||o.push(F)})}),o.length>0?[2,this.loadDependencies(o,a,i,t)]:[2,a]}})})},c.prototype.findLibraryDependencies=function(r,e,i){return D(this,void 0,void 0,function(){var t,a,o=this;return x(this,function(l){switch(l.label){case 0:return[4,N("".concat(e,"/").concat(r,"/library.json"),i)];case 1:return t=l.sent(),a=[],t.preloadedDependencies&&(a=t.preloadedDependencies.map(function(s){return o.libraryToFolderName(s)})),[2,{libraryFolderName:r,dependencies:a,preloadedCss:t.preloadedCss,preloadedJs:t.preloadedJs}]}})})},c.prototype.sortDependencies=function(r,e){var i=[],t={},a={};r.forEach(function(s){s.dependencies.length===0&&i.push([s.libraryFolderName]),s.dependencies.forEach(function(u){i.push([s.libraryFolderName,u])}),s.preloadedCss&&(t[s.libraryFolderName]=[],t[s.libraryFolderName]&&(t[s.libraryFolderName]=t[s.libraryFolderName]),s.preloadedCss.forEach(function(u){var n="".concat(e,"/").concat(s.libraryFolderName,"/").concat(u.path);t[s.libraryFolderName].push(n)})),s.preloadedJs&&(a[s.libraryFolderName]=[],a[s.libraryFolderName]&&(a[s.libraryFolderName]=a[s.libraryFolderName]),s.preloadedJs.forEach(function(u){var n="".concat(e,"/").concat(s.libraryFolderName,"/").concat(u.path);a[s.libraryFolderName].push(n)}))});var o=[],l=[];return h(i).reverse().forEach(function(s){Array.prototype.push.apply(o,t[s]),Array.prototype.push.apply(l,a[s])}),{styles:o,scripts:l}},c}();y.EventDispatcher=function(){};let w={H5P:y}})(),S.default})())});var G=Q(z(),1);function ee(b,v){let g=document.getElementById(b);if(g)new G.H5P(g,{h5pJsonPath:v,frameJs:"h5p/3.8.0/frame.bundle.js",frameCss:"h5p/3.8.0/styles/h5p.css"});else console.error(`Element with ID "${b}" not found.`)}export{ee as loadH5P};
